
<Plugin "java">
    JVMARG "-Djava.class.path=/usr/share/collectd/java/collectd-api.jar:/usr/share/collectd/java/generic-jmx.jar"
    LoadPlugin "org.collectd.java.GenericJMX"

    <Plugin "GenericJMX">

        <MBean "sdhbase_Thrift_ThriftOne">
            ObjectName "Hadoop:service=HBase,name=Thrift,sub=ThriftOne"
            InstancePrefix "sdhbase_Thrift_ThriftOne"
            
            <Value>
                Attribute "callQueueLen"
                InstancePrefix "callQueueLen"
                Type "gauge"
                Table false
            </Value>
            <Value>
                Attribute "SlowThriftCall_mean"
                InstancePrefix "SlowThriftCall_mean"
                Type "gauge"
                Table false
            </Value>
            <Value>
                Attribute "TimeInQueue_mean"
                InstancePrefix "TimeInQueue_mean"
                Type "gauge"
                Table false
            </Value>
            <Value>
                Attribute "ThriftCall_mean"
                InstancePrefix "ThriftCall_mean"
                Type "gauge"
                Table false
            </Value>
            <Value>
                Attribute "BatchGet_mean"
                InstancePrefix "BatchGet_mean"
                Type "gauge"
                Table false
            </Value>
            <Value>
                Attribute "BatchMutate_mean"
                InstancePrefix "BatchMutate_mean"
                Type "gauge"
                Table false
            </Value>
        </MBean>


        <MBean "sdhbase_Thrift_ThriftTwo">
            ObjectName "Hadoop:service=HBase,name=Thrift,sub=ThriftTwo"
            InstancePrefix "sdhbase_Thrift_ThriftTwo"
            
            <Value>
                Attribute "callQueueLen"
                InstancePrefix "callQueueLen"
                Type "gauge"
                Table false
            </Value>
            <Value>
                Attribute "SlowThriftCall_mean"
                InstancePrefix "SlowThriftCall_mean"
                Type "gauge"
                Table false
            </Value>
            <Value>
                Attribute "TimeInQueue_mean"
                InstancePrefix "TimeInQueue_mean"
                Type "gauge"
                Table false
            </Value>
            <Value>
                Attribute "ThriftCall_mean"
                InstancePrefix "ThriftCall_mean"
                Type "gauge"
                Table false
            </Value>
            <Value>
                Attribute "BatchGet_mean"
                InstancePrefix "BatchGet_mean"
                Type "gauge"
                Table false
            </Value>
            <Value>
                Attribute "BatchMutate_mean"
                InstancePrefix "BatchMutate_mean"
                Type "gauge"
                Table false
            </Value>
        </MBean>



        <Connection>
            Host "HBASE_THRIFT_JMX_HOST"
            ServiceURL "service:jmx:rmi:///jndi/rmi://HBASE_THRIFT_JMX_HOST:HBASE_THRIFT_JMX_PORT/jmxrmi"

            Collect "sdhbase_Thrift_ThriftOne" 
            Collect "sdhbase_Thrift_ThriftTwo" 
        </Connection>
    </Plugin>
</Plugin>
